## Redis和MySQL的同步场景

### 同步场景的精髓在于取用信息的时候，可以分为以下四种情况：

1. 数据量小，重要且一定会有的数据，取用缓存，如果为空，从数据库 reload

2. 数据量大，重要而只有少部分有的信息，比如用户信息，只有少量的人有座驾。
   1. 设置一个简单缓存，防止缓存穿透
   2. 标识位
   
3. 数据量大，不是特别重要的信息。比如新注册用户的限时充值优惠。数据库
写入一份记录，Redis记录一份，取用 Redis的信息而不 reload。

4. 数据量大，重要且并发量特别高的信息。比如排行榜。有两种做法：
   1. 写入一张新的数据表来做累加，从数据库来重置 Redis。缺点：并发量特别高的时候，会漏掉一点数据。
   2. 写入 Redis，定时的取 Redis的数据写入数据库来保存。优点：非常准确。缺点：需要写脚本，略麻烦。