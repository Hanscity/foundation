<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0082)http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html -->
<html xmlns="http://www.w3.org/1999/xhtml" id="sixapart-standard"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
<meta name="generator" content="Movable Type  5.2.2">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--link rel="stylesheet" href="http://www.ruanyifeng.com/blog/styles.css" type="text/css" /-->
<link rel="start" href="http://www.ruanyifeng.com/blog/" title="Home">
<link rel="alternate" type="application/atom+xml" title="Recent Entries" href="http://feeds.feedburner.com/ruanyifeng">
<script src="./微信小程序入门教程之三：脚本编程 - 阮一峰的网络日志_files/hm.js.下载"></script><script async="" src="./微信小程序入门教程之三：脚本编程 - 阮一峰的网络日志_files/analytics.js.下载"></script><script type="text/javascript" src="./微信小程序入门教程之三：脚本编程 - 阮一峰的网络日志_files/mt.js.下载"></script>
<!--
<rdf:RDF xmlns="http://web.resource.org/cc/"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
<Work rdf:about="http://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html">
<dc:title>Docker 入门教程</dc:title>
<dc:description>2013年发布至今， Docker 一直广受瞩目，被认为可能会改变软件行业。...</dc:description>
<dc:creator>阮一峰</dc:creator>
<dc:date>2018-02-09T05:53:27+08:00</dc:date>
<license rdf:resource="http://creativecommons.org/licenses/by-nc-nd/3.0/" />
</Work>
<License rdf:about="http://creativecommons.org/licenses/by-nc-nd/3.0/">
</License>
</rdf:RDF>
-->

<style>
body {
  background-color: #f5f5d5;
}

#container::before {
  display: block;
  width: 100%;
  padding: 10px;
  background: rgba(0,0,0,0.1);
  text-align: center;
  content: "本站显示不正常，可能因为您使用了广告拦截器。";
}

</style>
<script>
function loadjscssfile(filename, filetype){
    if (filetype=="js"){ //if filename is a external JavaScript file
        var fileref=document.createElement('script')
        fileref.setAttribute("type","text/javascript")
        fileref.setAttribute("src", filename)
    }
    else if (filetype=="css"){ //if filename is an external CSS file
        var fileref=document.createElement("link")
        fileref.setAttribute("rel", "stylesheet")
        fileref.setAttribute("type", "text/css")
        fileref.setAttribute("href", filename)
    }
    if (typeof fileref!="undefined")
        document.getElementsByTagName("head")[0].appendChild(fileref)
}
//loadjscssfile("http://www.ruanyifeng.com/blog/styles.css", "css");
loadjscssfile('/static/themes/theme_scrapbook/theme_scrapbook.min.css', "css");


function checker() {
// var img = document.querySelector('img[src^="http://www.ruanyifeng.com/blog/images"]');
var img = document.querySelector('a > img[src*="wangbase.com/blogimg/asset/"]');
  if (img && window.getComputedStyle(img).display === 'none'){
    var sponsor = document.querySelector('.entry-sponsor');
    var prompt = document.createElement('div');
    prompt.style = 'border: 1px solid #c6c6c6;border-radius: 4px;background-color: #f5f2f0;padding: 15px; font-size: 14px;';
  prompt.innerHTML = '<p>您使用了广告拦截器，导致本站内容无法显示。</p><p>请将 www.ruanyifeng.com 加入白名单，解除广告屏蔽后，刷新页面。谢谢。</p>';
    sponsor.parentNode.replaceChild(prompt, sponsor);
    document.querySelector('#main-content').innerHTML = '';
  }
}

setTimeout(checker, 1000);
</script><link rel="stylesheet" type="text/css" href="./微信小程序入门教程之三：脚本编程 - 阮一峰的网络日志_files/theme_scrapbook.min.css">

    
    <link rel="prev" href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-two.html" title="微信小程序入门教程之二：页面样式">
    <link rel="next" href="http://www.ruanyifeng.com/blog/2020/10/weekly-issue-131.html" title="科技爱好者周刊（第 131 期）：你的头脑是二值逻辑，还是三值逻辑？">
    
    <title>微信小程序入门教程之三：脚本编程 - 阮一峰的网络日志</title>
<style type="text/css">
button.btn[data-v-a4d9f4e4]{display:inline-block;font-weight:300;line-height:1.25;text-align:center;white-space:nowrap;vertical-align:middle;user-select:none;border:1px solid transparent;cursor:pointer;letter-spacing:1px;transition:all .15s ease
}
button.btn.btn-sm[data-v-a4d9f4e4]{padding:.4rem .8rem;font-size:.8rem;border-radius:.2rem
}
button.btn.btn-primary[data-v-a4d9f4e4]{color:#fff;background-color:#45C8F1;border-color:#45C8F1
}
button.btn.btn-outline-primary[data-v-a4d9f4e4]{color:#45C8F1;background-color:transparent;border-color:#45C8F1
}
button.btn.btn-danger[data-v-a4d9f4e4]{color:#fff;background-color:#FF4949;border-color:#FF4949
}
.text-muted[data-v-a4d9f4e4]{color:#8492A6
}
.text-center[data-v-a4d9f4e4]{text-align:center
}
.drop-down-enter[data-v-a4d9f4e4],.drop-down-leave-to[data-v-a4d9f4e4]{transform:translateX(0) translateY(-20px);transition-timing-function:cubic-bezier(0.74, 0.04, 0.26, 1.05);opacity:0
}
.drop-down-enter-active[data-v-a4d9f4e4],.drop-down-leave-active[data-v-a4d9f4e4]{transition:all .15s
}
.move-left-enter[data-v-a4d9f4e4],.move-left-leave-to[data-v-a4d9f4e4]{transform:translateY(0) translateX(-80px);transition-timing-function:cubic-bezier(0.74, 0.04, 0.26, 1.05);opacity:0
}
.move-left-enter-active[data-v-a4d9f4e4],.move-left-leave-active[data-v-a4d9f4e4]{transition:all .15s
}
.overlay[data-v-a4d9f4e4]{position:fixed;background:rgba(220,220,220,0.8);display:flex;align-items:center;justify-content:center;top:0;left:0;right:0;bottom:0;transition:all 0.2s ease;opacity:0;visibility:hidden
}
.overlay .modal[data-v-a4d9f4e4]{transition:all 0.2s ease;opacity:0;transform:scale(0.6);overflow:hidden
}
.overlay.show[data-v-a4d9f4e4]{opacity:1;visibility:visible
}
.overlay.show .modal[data-v-a4d9f4e4]{opacity:1;transform:scale(1)
}
.shake[data-v-a4d9f4e4]{animation:shake-data-v-a4d9f4e4 0.82s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;transform:translate3d(0, 0, 0)
}
@keyframes shake-data-v-a4d9f4e4{
10%,90%{transform:translate3d(-1px, 0, 0)
}
20%,80%{transform:translate3d(2px, 0, 0)
}
30%,50%,70%{transform:translate3d(-4px, 0, 0)
}
40%,60%{transform:translate3d(4px, 0, 0)
}
}
.pulse[data-v-a4d9f4e4]{animation:pulse-data-v-a4d9f4e4 2s ease infinite
}
@keyframes pulse-data-v-a4d9f4e4{
0%{opacity:.7
}
50%{opacity:.4
}
100%{opacity:.7
}
}
.flash-once[data-v-a4d9f4e4]{animation:flash-once 3.5s ease 1
}
@keyframes fade-up-data-v-a4d9f4e4{
0%{transform:translate3d(0, 10px, 0);opacity:0
}
100%{transform:translate3d(0, 0, 0);opacity:1
}
}
.fade-in[data-v-a4d9f4e4]{animation:fade-in-data-v-a4d9f4e4 .3s ease-in-out
}
@keyframes fade-in-data-v-a4d9f4e4{
0%{opacity:0
}
100%{opacity:1
}
}
.spin[data-v-a4d9f4e4]{animation-name:spin-data-v-a4d9f4e4;animation-duration:2000ms;animation-iteration-count:infinite;animation-timing-function:linear
}
@keyframes spin-data-v-a4d9f4e4{
from{transform:rotate(0deg)
}
to{transform:rotate(360deg)
}
}
.bounceIn[data-v-a4d9f4e4]{animation-name:bounceIn-data-v-a4d9f4e4;transform-origin:center bottom;animation-duration:1s;animation-fill-mode:both;animation-iteration-count:1
}
@keyframes bounceIn-data-v-a4d9f4e4{
0%,20%,40%,60%,80%,100%{-webkit-transition-timing-function:cubic-bezier(0.215, 0.61, 0.355, 1);transition-timing-function:cubic-bezier(0.215, 0.61, 0.355, 1)
}
0%{opacity:1;-webkit-transform:scale3d(0.8, 0.8, 0.8);transform:scale3d(0.8, 0.8, 0.8)
}
20%{-webkit-transform:scale3d(1.1, 1.1, 1.1);transform:scale3d(1.1, 1.1, 1.1)
}
40%{-webkit-transform:scale3d(0.9, 0.9, 0.9);transform:scale3d(0.9, 0.9, 0.9)
}
60%{opacity:1;-webkit-transform:scale3d(1.03, 1.03, 1.03);transform:scale3d(1.03, 1.03, 1.03)
}
80%{-webkit-transform:scale3d(0.97, 0.97, 0.97);transform:scale3d(0.97, 0.97, 0.97)
}
100%{opacity:1;-webkit-transform:scale3d(1, 1, 1);transform:scale3d(1, 1, 1)
}
}
@keyframes dots-data-v-a4d9f4e4{
0%,20%{color:rgba(0,0,0,0);text-shadow:0.25em 0 0 rgba(0,0,0,0),0.5em 0 0 rgba(0,0,0,0)
}
40%{color:#8492A6;text-shadow:0.25em 0 0 rgba(0,0,0,0),0.5em 0 0 rgba(0,0,0,0)
}
60%{text-shadow:0.25em 0 0 #8492A6,0.5em 0 0 rgba(0,0,0,0)
}
80%,100%{text-shadow:.25em 0 0 #8492A6, .5em 0 0 #8492A6
}
}
@keyframes recording-data-v-a4d9f4e4{
0%{box-shadow:0px 0px 5px 0px rgba(173,0,0,0.3)
}
65%{box-shadow:0px 0px 5px 5px rgba(173,0,0,0.3)
}
90%{box-shadow:0px 0px 5px 5px rgba(173,0,0,0)
}
}
html[data-v-a4d9f4e4]{max-height:500px
}
body[data-v-a4d9f4e4]{margin:0;font-size:100%;color:#3C4858;width:350px;max-height:500px
}
a[data-v-a4d9f4e4]{text-decoration:none;color:#45C8F1
}
h1[data-v-a4d9f4e4],h2[data-v-a4d9f4e4],h3[data-v-a4d9f4e4],h4[data-v-a4d9f4e4]{margin-top:0
}
.container_selected_area[data-v-a4d9f4e4]{display:none;visibility:hidden;padding:0;position:fixed;top:0;left:0;right:0;bottom:0;z-index:2147483647
}
.container_selected_area.active[data-v-a4d9f4e4]{visibility:visible;display:block
}
.container_selected_area .label[data-v-a4d9f4e4]{font-family:"Didact Gothic Regular",sans-serif;font-size:22px;text-align:center;padding-top:15px
}
.container_selected_area .area[data-v-a4d9f4e4]{display:none;position:fixed;z-index:2147483647;border:1px solid #1e83ff;background:rgba(30,131,255,0.1);box-sizing:border-box
}
.container_selected_area .area.active[data-v-a4d9f4e4]{display:block;top:0;left:0
}
.hide[data-v-a4d9f4e4]{display:none
}
</style></head>
<body id="scrapbook" class="mt-entry-archive one-column">
<script>
if (/mobile/i.test(navigator.userAgent) || /android/i.test(navigator.userAgent)) document.body.classList.add('mobile');

/*
window.addEventListener('load', function(event) {
  setTimeout(function () {
    hab('#sup-post-2');
    hab('#cre-inner');
  }, 1000);
});
*/
</script>
    <div id="container">
        <div id="container-inner">

            <div id="header">
    <div id="header-inner">
        <div id="header-content">


            <div id="header-name">阮一峰的网络日志 <span id="site_location"> » <a href="http://www.ruanyifeng.com/blog/" accesskey="1">首页</a></span><span id="site_archive"> » <a href="http://www.ruanyifeng.com/blog/archives.html">档案</a></span>
</div>

<div id="google_search">
<!-- SiteSearch Google -->
<form action="https://www.baidu.com/s" target="_blank" method="get" id="cse-search-box">
  <div>
  <input type="text" size="20" name="origin" class="searchbox" id="sbi" value="">
  <input type="hidden" name="wd" value="">
  <!--input type="image" src="/static/themes/theme_scrapbook/images/top_search_submit.gif" class="searchbox_submit" value="" alt="搜索" name="sa" onclick="this.form.wd.value = this.form.origin.value + ' inurl:www.ruanyifeng.com/blog'" /-->
  <input type="image" src="./微信小程序入门教程之三：脚本编程 - 阮一峰的网络日志_files/top_search_submit.gif" class="searchbox_submit" value="" alt="搜索" name="sa" onclick="this.form.wd.value = this.form.origin.value + &#39; 阮一峰&#39;">
</div>
</form>

<!-- SiteSearch Google -->
</div>
<div id="feed_icon">
<a href="http://www.ruanyifeng.com/feed.html" title="订阅Feed">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAUzSURBVHjavFdbbFRVFF3nPjoz7dTWTittaW0jUDRAUqaNojyqREnEQKgfUj9MqqAmhqRt/OCD4CuY+Kckoh+aiGKC+gMJbdHoRysJ8dkhhmJLNdDKtJU+6GMK87j3Hs85d2Z6HzNtMYWb3Dn3NWftvfba+5xNYDl+e6Fkj6yqb/oDRbWq14vlPBLRKCITkxf0ROLt+hNjp1PPSRK4kA3vF1dXNRcWlyA2OQU9eos9opAkAiKxD+XkKO6t15aRWO7J/MgmAZU8MEgexgZHMX518Dh72sYMmVKShnxWuWHdHtxKIDIYTgMuDzgfmSOIQkYMpdUF8OY92Hytt4/jvkg47czzU16iQovM3QFwmNck+Yyduu7D6NA0Z6JR4THntFs9V4tWQg6Ui3s6MwKDncsFTnXKLJhDSeUK3AgPtyhccDzmVs999buRt/1Vm4i0od+hX7+MRG87jPGB/w1u8FPj9xEw7McVrnYuOCvtpjTth3J/nTg99c8LRhKhr6D3dTB5R24bXFwbMXBsyZzeoXaycEpJ95TB09AGX/NpqLVNtw8urnVzLvHjFNxiFqRy2OOHuqUVnue+ACkoWzo4O6lGzTmuHq6nPvY2m9rVqjrIK2rMEKxqyG5NPAKt+wjo0LklgfNxJkZMA3KJvqRUk3z5UFY3QH14P0h+WUY79HPvgv7VuSg4ZRGY1YgZgqXmORccF17sy2ehnf9AeO085K2HQFbtXBScj0LcpgF2cN+WV+DZ/LJQu6gD4R7oV7pBJwbSgtMvfiPoVp56DySwxm7EtkMs1WdAB7qzggsDJKQYsHucSkOudrkiCPWR/fA2nYCn8SNIK4NptSMyAu3sAdDRkIsJdfth0LzSrODUoPNZ4KI9SxJI5UHk7D4GdQfz2us31c7CoHMjRkKuDPHseCMrONVhNcDJwMJpKFVvg9L4OaTiNWm1x789KCqkrXhVBiEz0WYCT2nAzQAD1/vaETv1GrRfP4Vx5cfMNcDPwvP0h0DhanPym7OIf/+O67vcJ1/PCJ4KgdzaUP6Wz+dU+5yIL6fV+PsHGAOdwlPpvvUOyeeAVGyCdqkDNB6DPjsBSrnndfOGevOh3RhGItxvA+fX1CtbGFhgYUFkFMZPR6F1HnClHq8HyubWtJexX06CRmdt33hrd7nA7SFY4qoGpnYuOKcRykPPgDCBcsHx9Iv+fNL2PueBehCWUfYQIIMGLOCcOmXDXsh1+yCt35tUPfvzGFuSvzvoinXOxqa02qOhM6733nVP2MAdaej2XN11DPKjLZCD+yBvahGCo7JfTKAN9UD7s8Oe9zUNIhz8fWI8DG2k38WCFdxugANcXrvTVd1IEbuv3Jour7Hzn7jLMBNfKs7R3i67gRVrbeCOEDhinmWhAatsqdquM2XzHZINhK2cqTjHr/XZdVJUbgN3MWAVXKbSyg9jesRW2xP9di+lwrL5ojM3m2H/kG9hwcIA37c71W6wJdW2J2S5nrjYbq/t1AHAhJsKQeyfPvf6IMJgghPJhFZ4x0KlfLFvt22du45Au/A1SOlGc0P672XXwhLtOcM0kTTEMMd0qkVmMNXxMd/tsedUjInr4SQDgOfeXMSiN0FCL5WHah4L1qqYXPJOJlttd+a5M+YpcG5poLYKQ5f+6JJ4r8bbJYP47hq4r7QAs9PjYNhHJd4o8l5taiwuOpa7AS4XKqI/5NjJbTnaWK92nLdLuhQAJayRNMiygXPBeQN+Qbvu0zDc3y+aUzhbkGR73sI7ljvUnndx2q3t+X8CDAD66FtrIL864AAAAABJRU5ErkJggg==" alt="" style="border: 0pt none;">
</a></div>

        </div>
    </div>
</div>



            <div id="content">
                <div id="content-inner">


                    <div id="alpha">
                        <div id="alpha-inner">


                            <div id="entry-2215" class="entry-asset asset hentry">
                                <div class="asset-header">
<div class="asset-nav entry-nav">

<div class="entry-location">
<ul>
<li>上一篇：<a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-two.html" title="微信小程序入门教程之二：页面样式">微信小程序入门教程之二</a></li>
<li>下一篇：<a href="http://www.ruanyifeng.com/blog/2020/10/weekly-issue-131.html" title="科技爱好者周刊（第 131 期）：你的头脑是二值逻辑，还是三值逻辑？">科技爱好者周刊（第&nbsp;1</a></li>
</ul>
</div>


    
                                    <div class="entry-categories">
                                        <p>分类<span class="delimiter">：</span></p>
                                        <ul>
                                            <li><a href="http://www.ruanyifeng.com/blog/developer/" rel="tag">开发者手册</a></li>
                                        </ul>
                                    </div>
    


                                            
<div class="entry-location-mobile" style="float: right;">
<ul>
<li><a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-two.html" title="微信小程序入门教程之二：页面样式">⇐&nbsp;</a></li>
<li><a href="http://www.ruanyifeng.com/blog/2020/10/weekly-issue-131.html" title="科技爱好者周刊（第 131 期）：你的头脑是二值逻辑，还是三值逻辑？">&nbsp;⇒</a></li>
</ul>
</div>

</div>
</div>

                          
<article class="hentry">
                                    <h1 id="page-title" class="asset-name entry-title">微信小程序入门教程之三：脚本编程</h1>



<div class="asset-meta">
                                        

                                            <p class="vcard author">作者： <a class="fn url" href="http://www.ruanyifeng.com/">阮一峰</a></p>
                                    <p>日期： <a href="http://www.ruanyifeng.com/blog/2020/10/"><abbr class="published" title="2020-10-29T09:56:07+08:00">2020年10月29日</abbr></a></p>


</div>








                                
                                <div class="asset-content entry-content" id="main-content">

                                    <!-- div class="asset-body" -->
                                        <p>这个系列教程的前两篇，介绍了小程序的<a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-one.html" target="_blank">项目结构</a>和<a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-two.html" target="_blank">页面样式</a>。</p>

                                    <!-- /div -->


                                    <!-- div id="more" class="asset-more" -->
                                        <p>今天，接着往下讲，教大家为小程序加入 JavaScript 脚本，做出动态效果，以及如何跟用户互动。学会了脚本，就能做出复杂的页面了。</p>

<p>本篇的难度要大于前两篇，如果觉得不好理解，可以先跟着例子，动手做一遍，然后再读文字说明，可能就容易理解了。</p>

<p>所有示例的完整代码，都可以从 GitHub 的<a href="https://github.com/ruanyf/wechat-miniprogram-demos" target="_blank">代码仓库</a>下载。</p>

<p><img src="./微信小程序入门教程之三：脚本编程 - 阮一峰的网络日志_files/bg2020100912.jpg" alt="" title=""></p>

<h2>一、数据绑定</h2>

<p>前面的所有示例，小程序的页面都是写死的，也就是页面内容不会变。但是，页面数据其实可以通过脚本传入，通过脚本改变页面，实现动态效果。</p>

<p>小程序提供了一种特别的方法，让页面可以更方便地使用脚本数据，叫做"数据绑定"（data binding）。</p>

<p>所谓"数据绑定"，指的是脚本里面的某些数据，会自动成为页面可以读取的全局变量，两者会同步变动。也就是说，脚本里面修改这个变量的值，页面会随之变化；反过来，页面上修改了这段内容，对应的脚本变量也会随之变化。这也叫做 MVVM 模式。</p>

<p>下面看一个例子。打开<code>home.js</code>文件，改成下面这样。</p>

<blockquote><pre class=" language-javascript"><code class=" language-javascript">
<span class="token function">Page<span class="token punctuation">(</span></span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'张三'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></blockquote>

<p>上面代码中，<code>Page()</code>方法的配置对象有一个<code>data</code>属性。这个属性的值也是一个对象，有一个<code>name</code>属性。数据绑定机制规定，<code>data</code>对象的所有属性，自动成为当前页面可以读取的全局变量。也就是说，<code>home</code>页面可以自动读取<code>name</code>变量。</p>

<p>接着，修改<code>home.wxml</code>文件，加入<code>name</code>变量。</p>

<blockquote><pre class=" language-markup"><code class=" language-markup">
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>hello {{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></blockquote>

<p>上面代码中，<code>name</code>变量写在<code>{{...}}</code>里面。这是小程序特有的语法，两重大括号表示，内部不是文本，而是 JavaScript 代码，它的执行结果会写入页面。因此，<code>{{name}}</code>表示读取全局变量<code>name</code>的值，将这个值写入网页。</p>

<p>注意，变量名区分大小写，<code>name</code>和<code>Name</code>是两个不同的变量名。</p>

<p>开发者工具导入项目代码，页面渲染结果如下。</p>

<p><img src="./微信小程序入门教程之三：脚本编程 - 阮一峰的网络日志_files/bg2020100407.jpg" alt="" title=""></p>

<p>可以看到，<code>name</code>变量已经自动替换成了变量值"张三"。</p>

<p>这个示例的完整代码，可以查看<a href="https://github.com/ruanyf/wechat-miniprogram-demos/tree/master/demos/08.data-binding" target="_blank">代码仓库</a>。</p>

<p>页面和脚本对于变量<code>name</code>是数据绑定关系，无论哪一方改变了<code>name</code>的值，另一方也会自动跟着改变。后面讲解到事件时，会有双方联动的例子。</p>

<h2>二、全局数据</h2>

<p>数据绑定只对当前页面有效，如果某些数据要在多个页面共享，就需要写到全局配置对象里面。</p>

<p>打开<code>app.js</code>，改写如下。</p>

<blockquote><pre class=" language-javascript"><code class=" language-javascript">
<span class="token function">App<span class="token punctuation">(</span></span><span class="token punctuation">{</span>
  globalData<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    now<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleString<span class="token punctuation">(</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></blockquote>

<p>上面代码中，<code>App()</code>方法的参数配置对象有一个<code>globalData</code>属性，这个属性就是我们要在多个页面之间分享的值。事实上，配置对象的任何一个属性都可以共享，这里起名为<code>globalData</code>只是为了便于识别。</p>

<p>然后，打开<code>home.js</code>，改成下面的内容，在页面脚本里面获取全局对象。</p>

<blockquote><pre class=" language-javascript"><code class=" language-javascript">
const app <span class="token operator">=</span> <span class="token function">getApp<span class="token punctuation">(</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">Page<span class="token punctuation">(</span></span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    now<span class="token punctuation">:</span> app<span class="token punctuation">.</span>globalData<span class="token punctuation">.</span>now
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></blockquote>

<p>上面代码中，<code>getApp()</code>函数是小程序原生提供的函数方法，用于从页面获取 App 实例对象。拿到实例对象以后，就能从它上面拿到全局配置对象的<code>globalData</code>属性，从而把<code>app.globalData.now</code>赋值给页面脚本的<code>now</code>属性，进而通过数据绑定机制，变成页面的全局变量<code>now</code>。</p>

<p>最后，修改一下页面代码<code>home.wxml</code>。</p>

<blockquote><pre class=" language-markup"><code class=" language-markup">
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>现在是 {{now}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></blockquote>

<p>开发者工具导入项目代码，页面渲染结果如下。</p>

<p><img src="./微信小程序入门教程之三：脚本编程 - 阮一峰的网络日志_files/bg2020100408.jpg" alt="" title=""></p>

<p>可以看到，页面读到了全局配置对象<code>app.js</code>里面的数据。</p>

<p>这个示例的完整代码，可以查看<a href="https://github.com/ruanyf/wechat-miniprogram-demos/tree/master/demos/09.global-data" target="_blank">代码仓库</a>。</p>

<h2>三、事件</h2>

<p>事件是小程序跟用户互动的主要手段。小程序通过接收各种用户事件，执行回调函数，做出反应。</p>

<p>小程序的<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html" target="_blank">常见事件</a>有下面这些。</p>

<blockquote>
  <ul>
<li><code>tap</code>：触摸后马上离开。</li>
<li><code>longpress</code>：触摸后，超过 350ms 再离开。如果指定了该事件的回调函数并触发了该事件，<code>tap</code>事件将不被触发。</li>
<li><code>touchstart</code>：触摸开始。</li>
<li><code>touchmove</code>：触摸后移动。</li>
<li><code>touchcancel</code>：触摸动作被打断，如来电提醒，弹窗等。</li>
<li><code>touchend</code>：触摸结束。</li>
</ul>
</blockquote>

<p>上面这些事件，在传播上分成两个阶段：先是捕获阶段（由上层元素向下层元素传播），然后是冒泡阶段（由下层元素向上层元素传播）。所以，同一个事件在同一个元素上面其实会触发两次：捕获阶段一次，冒泡阶段一次。详细的介绍，请参考我写的<a href="https://wangdoc.com/javascript/events/model.html#%E4%BA%8B%E4%BB%B6%E7%9A%84%E4%BC%A0%E6%92%AD" target="_blank">事件模型解释</a>。</p>

<p>小程序允许页面元素，通过属性指定各种事件的回调函数，并且还能够指定是哪个阶段触发回调函数。具体方法是为事件属性名加上不同的前缀。小程序提供四种前缀。</p>

<blockquote>
  <ul>
<li><code>capture-bind</code>：捕获阶段触发。</li>
<li><code>capture-catch</code>：捕获阶段触发，并中断事件，不再向下传播，即中断捕获阶段，并取消随后的冒泡阶段。</li>
<li><code>bind</code>：冒泡阶段触发。</li>
<li><code>catch</code>：冒泡阶段触发，并取消事件进一步向上冒泡。</li>
</ul>
</blockquote>

<p>下面通过一个例子，来看如何为事件指定回调函数。打开<code>home.wxml</code>文件，改成下面的代码。</p>

<blockquote><pre class=" language-markup"><code class=" language-markup">
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>view</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>hello {{name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">bind:</span>tap</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>buttonHandler<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>点击<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>view</span><span class="token punctuation">&gt;</span></span>
</code></pre></blockquote>

<p>上面代码中，我们为页面加上了一个按钮，并为这个按钮指定了触摸事件（<code>tap</code>）的回调函数<code>buttonHandler</code>，<code>bind:</code>前缀表示这个回调函数会在冒泡阶段触发（前缀里面的冒号可以省略，即写成<code>bindtap</code>也可以）。</p>

<p>回调函数必须在页面脚本中定义。打开<code>home.js</code>文件，改成下面的代码。</p>

<blockquote><pre class=" language-javascript"><code class=" language-javascript">
<span class="token function">Page<span class="token punctuation">(</span></span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'张三'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">buttonHandler<span class="token punctuation">(</span></span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    this<span class="token punctuation">.</span><span class="token function">setData<span class="token punctuation">(</span></span><span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'李四'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></blockquote>

<p>上面代码中，<code>Page()</code>方法的参数配置对象里面，定义了<code>buttonHandler()</code>，这就是<code>&lt;button&gt;</code>元素的回调函数。它有几个地方需要注意。</p>

<p>（1）事件回调函数的参数是事件对象<code>event</code>，可以从它上面获取<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html" target="_blank">事件信息</a>，比如事件类型、发生时间、发生节点、当前节点等等。</p>

<p>（2）事件回调函数内部的<code>this</code>，指向页面实例。</p>

<p>（3）页面实例的<code>this.setData()</code>方法，可以更改配置对象的<code>data</code>属性，进而通过数据绑定机制，导致页面上的全局变量发生变化。</p>

<p>开发者工具导入项目代码，点击按钮后，页面渲染结果如下。</p>

<p><img src="./微信小程序入门教程之三：脚本编程 - 阮一峰的网络日志_files/bg2020100409.jpg" alt="" title=""></p>

<p>可以看到，点击按钮以后，页面的文字从"hello 张三"变成了"hello 李四"。</p>

<p>这个示例的完整代码，可以查看<a href="https://github.com/ruanyf/wechat-miniprogram-demos/tree/master/demos/10.events" target="_blank">代码仓库</a>。</p>

<p>这里要强调一下，修改页面配置对象的<code>data</code>属性时，不要直接修改<code>this.data</code>，这不仅无法触发事件绑定机制去变更页面，还会造成数据不一致，所以一定要通过<code>this.setData()</code>去修改。<code>this.setData()</code>是一个很重要的方法，有很多细节，详细介绍可以读一下<a href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#Page-prototype-setData-Object-data-Function-callback" target="_blank">官方文档</a>。</p>

<h2>四、动态提示 Toast</h2>

<p>小程序提供了很多组件和方法，用来增强互动效果。比如，每次操作后，都显示一个动态提示，告诉用户操作的结果，这种效果叫做 Toast。</p>

<p>打开<code>home.js</code>文件，为<code>this.setData()</code>加上第二个参数。</p>

<blockquote><pre class=" language-javascript"><code class=" language-javascript">
<span class="token function">Page<span class="token punctuation">(</span></span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'张三'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">buttonHandler<span class="token punctuation">(</span></span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    this<span class="token punctuation">.</span><span class="token function">setData<span class="token punctuation">(</span></span><span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">'李四'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      wx<span class="token punctuation">.</span><span class="token function">showToast<span class="token punctuation">(</span></span><span class="token punctuation">{</span>
        title<span class="token punctuation">:</span> <span class="token string">'操作完成'</span><span class="token punctuation">,</span>
        duration<span class="token punctuation">:</span> <span class="token number">700</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></blockquote>

<p>上面代码中，<code>this.setData()</code>方法加入了第二个参数，这是一个函数，它会在页面变更完毕后（即<code>this.setData()</code>执行完）自动调用。</p>

<p>这个参数函数内部，调用了<code>wx.showToast()</code>方法，<code>wx</code>是小程序提供的原生对象，所有客户端 API 都定义在这个对象上面，<code>wx.showToast()</code>会展示微信内置的动态提示框，它的参数对象的<code>title</code>属性指定提示内容，<code>duration</code>属性指定提示框的展示时间，单位为毫秒。</p>

<p>开发者工具导入项目代码，点击按钮后，页面渲染结果如下。</p>

<p><img src="./微信小程序入门教程之三：脚本编程 - 阮一峰的网络日志_files/bg2020100410.jpg" alt="" title=""></p>

<p>过了700毫秒，提示框就会自动消失。</p>

<p>这个示例的完整代码，可以查看<a href="https://github.com/ruanyf/wechat-miniprogram-demos/tree/master/demos/11.toast" target="_blank">代码仓库</a>。</p>

<h2>五、对话框 Modal</h2>

<p>下面，我们再用小程序提供的<code>wx.showModal()</code>方法，制作一个对话框，即用户可以选择"确定"或"取消"。</p>

<p>打开<code>home.js</code>文件，修改如下。</p>

<blockquote><pre class=" language-javascript"><code class=" language-javascript">
<span class="token function">Page<span class="token punctuation">(</span></span><span class="token punctuation">{</span>
  data<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'张三'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">buttonHandler<span class="token punctuation">(</span></span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    const that <span class="token operator">=</span> this<span class="token punctuation">;</span>
    wx<span class="token punctuation">.</span><span class="token function">showModal<span class="token punctuation">(</span></span><span class="token punctuation">{</span>
      title<span class="token punctuation">:</span> <span class="token string">'操作确认'</span><span class="token punctuation">,</span>
      content<span class="token punctuation">:</span> <span class="token string">'你确认要修改吗？'</span><span class="token punctuation">,</span>
      success <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token punctuation">{</span>      
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>confirm<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          that<span class="token punctuation">.</span><span class="token function">setData<span class="token punctuation">(</span></span><span class="token punctuation">{</span>
            name<span class="token punctuation">:</span> <span class="token string">'李四'</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
             wx<span class="token punctuation">.</span><span class="token function">showToast<span class="token punctuation">(</span></span><span class="token punctuation">{</span>
               title<span class="token punctuation">:</span> <span class="token string">'操作完成'</span><span class="token punctuation">,</span>
               duration<span class="token punctuation">:</span> <span class="token number">700</span>
             <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>cancel<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          console<span class="token punctuation">.</span><span class="token function">log<span class="token punctuation">(</span></span><span class="token string">'用户点击取消'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></blockquote>

<p>上面代码中，用户点击按钮以后，回调函数<code>buttonHandler()</code>里面会调用<code>wx.showModal()</code>方法，显示一个对话框，效果如下。</p>

<p><img src="./微信小程序入门教程之三：脚本编程 - 阮一峰的网络日志_files/bg2020100411.jpg" alt="" title=""></p>

<p><code>wx.showModal()</code>方法的参数是一个配置对象。<code>title</code>属性表示对话框的标题（本例为"操作确认"），<code>content</code>属性表示对话框的内容（本例为"你确认要修改吗？"），<code>success</code>属性指定对话框成功显示后的回调函数，<code>fail</code>属性指定显示失败时的回调函数。</p>

<p><code>success</code>回调函数里面，需要判断一下用户到底点击的是哪一个按钮。如果参数对象的<code>confirm</code>属性为<code>true</code>，点击的就是"确定"按钮，<code>cancel</code>属性为<code>true</code>，点击的就是"取消"按钮。</p>

<p>这个例子中，用户点击"取消"按钮后，对话框会消失，控制台会输出一行提示信息。点击"确定"按钮后，对话框也会消失，并且还会去调用<code>that.setData()</code>那些逻辑。</p>

<p>注意，上面代码写的是<code>that.setData()</code>，而不是<code>this.setData()</code>。这是因为<code>setData()</code>方法定义在页面实例上面，但是由于<code>success()</code>回调函数不是直接定义在<code>Page()</code>的配置对象下面，<code>this</code>不会指向页面实例，导致<code>this.setData()</code>会报错。解决方法就是在<code>buttonHandler()</code>的开头，将<code>this</code>赋值给变量<code>that</code>，然后在<code>success()</code>回调函数里面使用<code>that.setData()</code>去调用。关于<code>this</code>更详细的解释，可以参考<a href="https://wangdoc.com/javascript/oop/this.html" target="_blank">这篇教程</a>。</p>

<p>这个示例的完整代码，可以查看<a href="https://github.com/ruanyf/wechat-miniprogram-demos/tree/master/demos/12.modal" target="_blank">代码仓库</a>。</p>

<p>今天的教程就到这里，对于初学者来说，已经讲了很多东西，可能需要慢慢消化。如果对网页开发和 JavaScript 语言不熟悉，你也许会觉得不容易完全理解，不用担心，初学者只需要知道加入脚本的方法，以及脚本可以达到的效果就可以了，后面做到实际的项目，慢慢就会加深理解。</p>

<p>有了脚本以后，就可以通过小程序 API，去调用微信的各种内置能力。<a href="http://www.ruanyifeng.com/blog/2020/11/wechat-miniprogram-tutorial-part-four.html" target="_blank">下一篇教程</a>将重点讲解如何使用小程序 API。</p>

<p>（完）</p>

                                    <!-- /div -->

                                </div>
    <script type="text/javascript" src="./微信小程序入门教程之三：脚本编程 - 阮一峰的网络日志_files/newwindow.js.下载"></script>
                                <div class="asset-footer">

<h3>文档信息</h3>
<ul>
<li>版权声明：自由转载-非商用-非衍生-保持署名（<a href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh">创意共享3.0许可证</a>）</li>
<li>发表日期： <abbr class="published" title="2020-10-29T09:56:07+08:00">2020年10月29日</abbr></li>

</ul>
                                </div>
</article>
                            </div>



  <div style="display: inline-block ! important;width: 100%;">
  
  </div>



<div id="related_entries">
<h2>相关文章</h2>
<ul>

<li><strong>2020.12.13: <a href="http://www.ruanyifeng.com/blog/2020/12/ssh-tutorial.html">《SSH 入门教程》发布了</a></strong>

                           <div class="entry-body">
                              SSH 是登录 Linux 服务器的必备工具，只要你在做互联网开发，多多少少都会用到它。

                           </div>

</li>

 
<li><strong>2020.11.02: <a href="http://www.ruanyifeng.com/blog/2020/11/wechat-miniprogram-tutorial-part-four.html">微信小程序入门教程之四：API 使用</a></strong>

                           <div class="entry-body">
                              今天是这个系列教程的最后一篇。

                           </div>

</li>

 
<li><strong>2020.10.27: <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-two.html">微信小程序入门教程之二：页面样式</a></strong>

                           <div class="entry-body">
                              这个系列的上一篇教程，教大家写了一个最简单的 Hello world 微信小程序。

                           </div>

</li>

 
<li><strong>2020.10.26: <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-one.html">微信小程序入门教程之一：初次上手</a></strong>

                           <div class="entry-body">
                              微信是中国使用量最大的手机 App 之一，日活跃用户超过3亿，月活跃用户超过11亿（2019年底统计），市场极大。

                           </div>

</li>

 
</ul>
</div>



                    

                    <div id="comments" class="comments">


    
    
        
    <h2 class="comments-header">留言（19条）</h2>

    <div id="comments-content" class="comments-content" style="clear: left;">
        
        <div id="comment-423504" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="https://spoience.com" href="https://spoience.com/" target="_blank" rel="nofollow">Spoience</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-423504">
            <p>期待继续更新！</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="October 29, 2020  9:59 AM">2020年10月29日 09:59</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-423504">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用Spoience的这条留言" onclick="return CommentQuote(&#39;comment-quote-423504&#39;,&#39;Spoience&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-423508" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">wangjiabei</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-423508">
            <p>想看怎么解决 modal弹出框的遮罩层 遮不住echarts</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="October 29, 2020 11:29 AM">2020年10月29日 11:29</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-423508">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用wangjiabei的这条留言" onclick="return CommentQuote(&#39;comment-quote-423508&#39;,&#39;wangjiabei&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-423512" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">Sherlock</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-423512">
            <p>这篇爱了，mvvm和this都讲的很好</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="October 29, 2020 11:50 AM">2020年10月29日 11:50</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-423512">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用Sherlock的这条留言" onclick="return CommentQuote(&#39;comment-quote-423512&#39;,&#39;Sherlock&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-423518" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">Larry</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-423518">
            <p>阮大说的好清楚，下班回家试一下</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="October 29, 2020  6:57 PM">2020年10月29日 18:57</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-423518">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用Larry的这条留言" onclick="return CommentQuote(&#39;comment-quote-423518&#39;,&#39;Larry&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-423521" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">jump_jump</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-423521">
            <p>小程序云开发的体验非常好</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="October 30, 2020  9:07 AM">2020年10月30日 09:07</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-423521">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用jump_jump的这条留言" onclick="return CommentQuote(&#39;comment-quote-423521&#39;,&#39;jump_jump&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-423538" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">sss</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-423538">
            <p>老师我们非常熟悉javascript。但您讲得好，简明扼要，不整花里胡哨的。<br>
</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="October 30, 2020  9:58 AM">2020年10月30日 09:58</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-423538">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用sss的这条留言" onclick="return CommentQuote(&#39;comment-quote-423538&#39;,&#39;sss&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-423567" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">那山那人那狗</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-423567">
            <p>期待更新</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="October 30, 2020  4:53 PM">2020年10月30日 16:53</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-423567">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用那山那人那狗的这条留言" onclick="return CommentQuote(&#39;comment-quote-423567&#39;,&#39;那山那人那狗&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-423569" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">JJY</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-423569">
            <p>Page({<br>
  data: {<br>
    name: '张三'<br>
  },<br>
  buttonHandler(event) {<br>
    this.setData({<br>
      name: '李四'<br>
    }),<br>
  }<br>
});</p>

<p>倒数第三行多了一个逗号</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="October 30, 2020  5:46 PM">2020年10月30日 17:46</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-423569">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用JJY的这条留言" onclick="return CommentQuote(&#39;comment-quote-423569&#39;,&#39;JJY&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-423570" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">阮一峰</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-423570">
            <p>@JJY：</p>

<p>谢谢指出，已经更正。</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="October 30, 2020  6:41 PM">2020年10月30日 18:41</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-423570">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用阮一峰的这条留言" onclick="return CommentQuote(&#39;comment-quote-423570&#39;,&#39;阮一峰&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-423586" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">Muizai</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-423586">
            <blockquote>
<pre>引用wangjiabei的发言：</pre>

<p>想看怎么解决 modal弹出框的遮罩层 遮不住echarts</p>

</blockquote>

<p>echarts是基于canvas做的，canvas属于原生组件，在小程序中的层级是最高的，也就是不管别的容器设置了多高的层级都会被覆盖在下面，为此微信提供了&lt;cover-view&gt;&lt;cover-image&gt;这两个标签，用于覆盖像canvas，map，video等层级高的原生组件，详见微信官方文档：https://developers.weixin.qq.com/miniprogram/dev/component/cover-view.html</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="October 31, 2020  3:17 PM">2020年10月31日 15:17</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-423586">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用Muizai的这条留言" onclick="return CommentQuote(&#39;comment-quote-423586&#39;,&#39;Muizai&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-423596" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">吞石鱼</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-423596">
            <p>言简意赅，去伪存真。真是大师的手笔。</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="November  1, 2020 10:11 PM">2020年11月 1日 22:11</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-423596">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用吞石鱼的这条留言" onclick="return CommentQuote(&#39;comment-quote-423596&#39;,&#39;吞石鱼&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-423597" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">王大炮</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-423597">
            <p>写的真好，用心了，支持！</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="November  2, 2020  8:47 AM">2020年11月 2日 08:47</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-423597">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用王大炮的这条留言" onclick="return CommentQuote(&#39;comment-quote-423597&#39;,&#39;王大炮&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-423600" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">wangjiabei</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-423600">
            <p>@Muizai：</p>

<p>谢谢 以前我做的时候没发现  真的是帮了大忙</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="November  2, 2020 11:47 AM">2020年11月 2日 11:47</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-423600">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用wangjiabei的这条留言" onclick="return CommentQuote(&#39;comment-quote-423600&#39;,&#39;wangjiabei&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-423612" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author"><a title="https://github.com/lblblong" href="https://github.com/lblblong" target="_blank" rel="nofollow">li</a></span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-423612">
            <p>安利一下我写的 taro 路由增强库<br>
Taro 路由增强，任意传参、跳转页面取值、路由中间件：https://github.com/lblblong/tarojs-router<br>
</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="November  2, 2020  4:49 PM">2020年11月 2日 16:49</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-423612">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用li的这条留言" onclick="return CommentQuote(&#39;comment-quote-423612&#39;,&#39;li&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-423690" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">lyanm</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-423690">
            <p>可以用箭头函数代替this、that？</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="November  6, 2020  2:41 PM">2020年11月 6日 14:41</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-423690">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用lyanm的这条留言" onclick="return CommentQuote(&#39;comment-quote-423690&#39;,&#39;lyanm&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-423727" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">shaynelee</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-423727">
            <p>收获多多, 感觉看完就能做项目了</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="November 10, 2020 10:24 PM">2020年11月10日 22:24</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-423727">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用shaynelee的这条留言" onclick="return CommentQuote(&#39;comment-quote-423727&#39;,&#39;shaynelee&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-424002" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">IT波</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-424002">
            <p> 写的很棒，坐等大神继续更新</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="November 27, 2020  2:55 PM">2020年11月27日 14:55</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-424002">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用IT波的这条留言" onclick="return CommentQuote(&#39;comment-quote-424002&#39;,&#39;IT波&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-424158" class="comment">
    <div class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">Agoninemo</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-424158">
            <p>有个疑问，我在 wx.showModal的success用this，好像也没什么问题，这是小程序做过优化的吗？</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="December  6, 2020 12:34 PM">2020年12月 6日 12:34</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-424158">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用Agoninemo的这条留言" onclick="return CommentQuote(&#39;comment-quote-424158&#39;,&#39;Agoninemo&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    
        
        <div id="comment-425310" class="comment">
    <div id="comment-last" class="inner">
        <div class="comment-header">
            <div class="asset-meta">
<p>
                <span class="byline">
                    

                    <span class="vcard author">yuenjf</span>

 说：
                </span>
</p>
            </div>
        </div>
        <div class="comment-content" id="comment-quote-425310">
            <p>跟react的写法好像呀</p>
        </div>
<div class="comment-footer">
<div class="comment-footer-inner">
<p>
                   <abbr class="published" title="January 28, 2021 11:03 PM">2021年1月28日 23:03</abbr>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-425310">#</a>
 | <a href="http://www.ruanyifeng.com/blog/2020/10/wechat-miniprogram-tutorial-part-three.html#comment-text" title="引用yuenjf的这条留言" onclick="return CommentQuote(&#39;comment-quote-425310&#39;,&#39;yuenjf&#39;);">引用</a>
</p>
</div>
</div>
    </div>
</div>
        
    </div>
        
    


    
    
    <div class="comments-open" id="comments-open">
        <h2 class="comments-open-header">我要发表看法</h2>
        <div class="comments-open-content">

        
            <div id="comment-greeting"></div>

            <form method="post" action="http://www.ruanyifeng.com/cgi-bin/mtos/mt-comments.cgi" name="comments_form" id="comments-form" onsubmit="return pleaseWait();">
                <input type="hidden" name="static" value="1">
                <input type="hidden" name="entry_id" value="2215">
                <input type="hidden" name="__lang" value="en">
                <input type="hidden" name="parent_id" value="" id="comment-parent-id">
                <input type="hidden" name="armor" value="1">
                <input type="hidden" name="preview" value="">
                <input type="hidden" name="sid" value="">
                <div id="comments-open-data">
            <div id="comments-open-text">
                    <p><label for="comment-text">您的留言
                    （HTML标签部分可用）</label></p>
                    <p><textarea id="comment-text" name="text" rows="10" cols="50"></textarea></p>
                </div>
                    <div id="comment-form-name">
                        <p><label for="comment-author">您的大名：</label></p>
                        <p><input id="comment-author" name="author" size="30" value="">  <span class="hint"> «-必填</span></p>
                    </div>
                    <div id="comment-form-email">
                        <p><label for="comment-email">电子邮件：</label></p>
                        <p><input id="comment-email" name="email" size="30" value="">  <span class="hint"> «-必填，不公开</span></p>
                    </div>
                    <div id="comment-form-url">
                        <p><label for="comment-url">个人网址：</label></p>
                        <p><input id="comment-url" name="url" size="30" value="">  <span class="hint"> «-我信任你，不会填写广告链接</span></p>
                    </div>
                    <div id="comment-form-remember-me">
                        <p>
                        <label for="comment-bake-cookie">记住个人信息？</label><input type="checkbox" id="comment-bake-cookie" name="bakecookie" onclick="!this.checked?forgetMe(document.comments_form):rememberMe(document.comments_form)" value="1" accesskey="r"></p>
                    </div>
                </div>
                    <div id="comment-form-reply" style="display:none">
                    <input type="checkbox" id="comment-reply" name="comment_reply" value="" onclick="mtSetCommentParentID()">
                    <label for="comment-reply" id="comment-reply-label"></label>
                </div>
                <div id="comments-open-captcha"></div>
                <div id="comments-open-footer">
<div id="wait" style="display:none;">
<p><strong>正在发表您的评论，请稍候</strong></p>
<p>
<input type="text" name="percent" size="3" style="font-family:Arial; color:black;text-align:center; border-width:medium; border-style:none;">           
<input type="text" name="chart" size="46" style="font-family:Arial;font-weight:bolder; color:black; padding:0px; border-style:none;">
</p>
</div>

                    <p><input type="submit" accesskey="s" name="post" id="comment-submit" value="发表">  <span class="hint"> «- 点击按钮</span></p>
                </div>
            </form>


        </div>
    </div>

    


</div>




                        </div>
                    </div>

                </div>
            </div>
        <script type="text/javascript" src="./微信小程序入门教程之三：脚本编程 - 阮一峰的网络日志_files/prism.js.下载"></script>
        <script type="text/javascript" src="./微信小程序入门教程之三：脚本编程 - 阮一峰的网络日志_files/checker.js.下载"></script> 
            <div id="footer">
<div id="footer-inner">
  <div id="footer-content">

      
<!--
      <section> 
     </section>
  <p><a title="Instagram" target="_blank" href="http://instagram.com/ruanyf">Instagram</a></p>
       <p><a title="订阅" href="https://app.feedblitz.com/f/f.fbz?Sub=348868" target="_blank">邮件订阅</a></p>
  
       <h2>Feed</h2>
       <p><a title="FeedBurner" href="http://feeds.feedburner.com/ruanyifeng" target="_blank">FeedBurner</a></p>
       <p><a title="atom.xml" href="http://www.ruanyifeng.com/blog/atom.xml" target="_blank">atom.xml</a></p>
     
      <p>支付宝：<a title="支付宝" href="alipays://platformapi/startapp?appId=20000067&url=http%3A%2F%2Fwww.ruanyifeng.com%2Fblog" target="_blank">yifeng.ruan@gmail.com</a></p>
-->

     <section>
<!--
       <h2>授权方式</h2>
       <p><a title="许可证" href="http://creativecommons.org/licenses/by-nc-nd/3.0/deed.zh" target="_blank">自由转载-非商用-非衍生-保持署名</a></p>
       <h2>微信公号</h2>
       <h2>社交帐号</h2>
       <h2>联系方式</h2>
     -->
       <p><img src="./微信小程序入门教程之三：脚本编程 - 阮一峰的网络日志_files/bg2020013101.jpg" alt="微信扫描"></p>
       <p>
         <a title="微博" href="http://weibo.com/ruanyf" target="_blank">Weibo</a> | 
         <a title="Twitter" target="_blank" href="https://twitter.com/ruanyf">Twitter</a> |
         <a title="GitHub" target="_blank" href="https://github.com/ruanyf">GitHub</a>
       </p>
     
     <p>Email: <a title="电子邮件" href="mailto:yifeng.ruan@gmail.com" target="_blank">yifeng.ruan@gmail.com</a></p>
     </section>
  
  


  </div>
</div>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-46829782-1', 'ruanyifeng.com');
  ga('send', 'pageview');

</script>

<script type="text/javascript" src="./微信小程序入门教程之三：脚本编程 - 阮一峰的网络日志_files/stats.js.下载"></script>
<script>
var supportImg = document.querySelector('#support-img');

if (supportImg && _hmt) {
  _hmt.push(['_trackEvent', 'banner', 'load']);
  supportImg.addEventListener('click', function () {
    _hmt.push(['_trackEvent', 'banner', 'click']);
  }, false);
}

var homepageImg = document.querySelector('#homepage_sponsor');
if (homepageImg && _hmt) {
  _hmt.push(['_trackEvent', 'homepage-banner', 'load']);
  homepageImg.addEventListener('click', function () {
    _hmt.push(['_trackEvent', 'homepage-banner', 'click']);
  }, false);
}
</script>


<script>
document.getElementById("share_button").innerHTML=document.getElementById("share_button_proto").innerHTML;
</script>









        </div>
    </div>

<input type="file" id="" name="file" style="display: none;"><div data-v-a4d9f4e4="" class="container_selected_area" style="cursor: url(&quot;chrome-extension://ijejnggjjphlenbhmjhhgcdpehhacaal/assets/images/cursor-imagen.svg&quot;) 9 9, crosshair;"><div data-v-a4d9f4e4="" class="area"></div></div></body></html>